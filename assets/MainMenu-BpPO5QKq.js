import{A as y,r as v,o as C,Q as I,R as b,S as x,p as M,T,a as w,w as s,u as e,d as r,e as n,B,C as N,v as S,U as V,f as o,V as A,y as i,W as D,I as O,j as g,x as k,X as R,Y as $,Z as U,$ as h,l as L,m as j,n as q,a0 as E,q as F,_ as G}from"./index-Bl1MqZjA.js";const H={class:"container"},K={key:0},P={key:1},Q={class:"admin-menu"},W={__name:"MainMenu",setup(X){const f=q(),d=v(""),c=v("");C(()=>{const t=I();b(t,async a=>{if(a)try{const l=x(M,"users",a.uid),u=await T(l);if(u.exists()){const p=u.data();d.value=p.fullName,c.value=p.role,console.log("User ditemukan:",p)}else console.warn("Data user tidak ditemukan di Firestore")}catch(l){console.error("Gagal mengambil data user:",l.message)}else console.warn("Tidak ada user login")})});const m=t=>{f.push({name:t})},_=async()=>{try{await E(),f.push("/login")}catch(t){console.error("Logout gagal:",t.message)}};return(t,a)=>{const l=F("center");return r(),w(e(j),null,{default:s(()=>[n(e(O),null,{default:s(()=>[n(e(B),null,{default:s(()=>[n(e(N),null,{default:s(()=>a[3]||(a[3]=[S("Menu Admin")])),_:1}),n(e(V),{slot:"end"},{default:s(()=>[a[4]||(a[4]=o("p",null,"Keluar",-1)),n(e(A),{onClick:_,fill:"clear",color:"medium"},{default:s(()=>[n(e(i),{slot:"icon-only",icon:e(D)},null,8,["icon"])]),_:1})]),_:1})]),_:1})]),_:1}),n(e(L),{class:"ion-padding bg-gray-100"},{default:s(()=>[n(l,null,{default:s(()=>a[5]||(a[5]=[o("img",{src:G,alt:"",style:{height:"auto",width:"300px",position:"relative","margin-top":"30px"}},null,-1)])),_:1}),o("div",H,[d.value?(r(),g("p",K,"Selamat Datang : "+k(d.value)+" ("+k(c.value)+")",1)):(r(),g("p",P,"Memuat data pengguna...")),o("div",Q,[o("div",{class:"menu-card",onClick:a[0]||(a[0]=u=>m("materilist"))},[n(e(i),{icon:e(R),class:"menu-icon"},null,8,["icon"]),a[6]||(a[6]=o("span",null,"Nama Materi",-1))]),o("div",{class:"menu-card",onClick:a[1]||(a[1]=u=>m("materipage"))},[n(e(i),{icon:e($),class:"menu-icon"},null,8,["icon"]),a[7]||(a[7]=o("span",null,"Tambah Materi",-1))]),c.value!=="kontributor"?(r(),g("div",{key:0,class:"menu-card",onClick:a[2]||(a[2]=u=>m("userpage"))},[n(e(i),{icon:e(U),class:"menu-icon"},null,8,["icon"]),a[8]||(a[8]=o("span",null,"Tambah User",-1))])):h("",!0)])])]),_:1})]),_:1})}}},Z=y(W,[["__scopeId","data-v-d5074ba7"]]);export{Z as default};
