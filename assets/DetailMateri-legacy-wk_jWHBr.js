System.register(["./index-legacy-BEQsDxtw.js"],(function(a,e){"use strict";var t,o,i,n,r,d,l,c,s,m,u,p,v,g,x,h,f,b,y,k,w,_,z,j,D,M,T,C,L,P,$,I,S,E,H,K,V,q,A,B,F,G,R;return{setters:[a=>{t=a.A,o=a.r,i=a.o,n=a.a,r=a.w,d=a.u,l=a.d,c=a.e,s=a.j,m=a.ak,u=a.f,p=a.y,v=a.al,g=a.x,x=a.V,h=a.v,f=a.am,b=a.X,y=a.z,k=a.an,w=a.ao,_=a.ap,z=a.F,j=a.k,D=a.aq,M=a.l,T=a.m,C=a.ar,L=a.af,P=a.ag,$=a.b,I=a.p,S=a.g,E=a.S,H=a.T,K=a.as,V=a.K,q=a.at,A=a.M,B=a.au,F=a.P,G=a.$,R=a.av}],execute:function(){var e=document.createElement("style");e.textContent=".materi-content[data-v-aea63925]{--background: #f8f9fa}.loading-container[data-v-aea63925]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;text-align:center}.loading-container ion-spinner[data-v-aea63925]{width:48px;height:48px;margin-bottom:16px}.loading-container p[data-v-aea63925]{color:var(--ion-color-medium)}.error-container[data-v-aea63925]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;height:100%}.error-icon[data-v-aea63925]{font-size:48px;margin-bottom:16px}.error-container h3[data-v-aea63925]{color:var(--ion-color-danger);margin-bottom:8px}.error-container p[data-v-aea63925]{color:var(--ion-color-medium);margin-bottom:16px}.hero-header[data-v-aea63925]{height:300px;background-size:cover;background-position:center;display:flex;flex-direction:column;justify-content:flex-end;position:relative}.header-overlay[data-v-aea63925]{padding:20px;position:relative;z-index:2}.materi-title[data-v-aea63925]{color:#fff;font-size:1.8rem;font-weight:700;margin:0 0 12px;text-shadow:0 2px 4px rgba(0,0,0,.3)}.meta-badges[data-v-aea63925]{display:flex;gap:8px;flex-wrap:wrap}.meta-badge[data-v-aea63925]{padding:8px 12px;font-weight:500}.meta-badge ion-icon[data-v-aea63925]{margin-right:4px}.content-container[data-v-aea63925]{background:#fff;border-radius:24px 24px 0 0;margin-top:-24px;position:relative;padding:24px 16px;box-shadow:0 -4px 16px rgba(0,0,0,.05)}.section[data-v-aea63925]{margin-bottom:32px}.section-header[data-v-aea63925]{display:flex;align-items:center;margin-bottom:20px}.section-header ion-icon[data-v-aea63925]{font-size:24px;margin-right:12px}.section-header h2[data-v-aea63925]{font-size:1.3rem;font-weight:600;margin:0;color:var(--ion-color-dark)}.custom-accordion[data-v-aea63925]{border-radius:12px;overflow:hidden;box-shadow:0 2px 8px rgba(0,0,0,.08)}.accordion-header[data-v-aea63925]{--background: #fff;--border-color: #f1f1f1;--padding-start: 16px;--padding-end: 16px;--min-height: 60px}.accordion-header ion-label[data-v-aea63925]{font-weight:500;color:var(--ion-color-dark)}.accordion-icon[data-v-aea63925]{transition:transform .3s ease}.accordion-header[aria-expanded=true] .accordion-icon[data-v-aea63925]{transform:rotate(180deg)}.accordion-content[data-v-aea63925]{background:#f9f9f9;padding:16px}.author-info[data-v-aea63925]{display:flex;align-items:center;margin-bottom:16px;padding-bottom:16px;border-bottom:1px solid #eee}.author-avatar[data-v-aea63925]{width:40px;height:40px;margin-right:12px}.author-name[data-v-aea63925]{font-weight:500;margin:0 0 4px;font-size:.95rem;color:var(--ion-color-dark)}.publish-date[data-v-aea63925]{margin:0;font-size:.8rem;color:var(--ion-color-medium)}.video-section[data-v-aea63925]{margin-bottom:20px}.video-container[data-v-aea63925]{position:relative;padding-bottom:56.25%;height:0;overflow:hidden;border-radius:8px;margin-bottom:12px;background:#000}.video-container iframe[data-v-aea63925]{position:absolute;top:0;left:0;width:100%;height:100%;border:none}.watch-button[data-v-aea63925]{--padding-start: 0;--padding-end: 0;margin:0}.materi-text[data-v-aea63925]{line-height:1.6;color:var(--ion-color-dark)}.materi-text[data-v-aea63925] p{margin-bottom:16px}.materi-text[data-v-aea63925] h2,.materi-text[data-v-aea63925] h3{color:var(--ion-color-dark);margin-top:24px;margin-bottom:16px}.materi-text[data-v-aea63925] a{color:var(--ion-color-primary);text-decoration:none}.materi-text[data-v-aea63925] ul,.materi-text[data-v-aea63925] ol{padding-left:24px;margin-bottom:16px}.materi-text[data-v-aea63925] img{max-width:100%;height:auto;border-radius:8px;margin:12px 0;display:block}.empty-content[data-v-aea63925],.empty-state[data-v-aea63925]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:40px 20px}.empty-content[data-v-aea63925]{background:#f9f9f9;border-radius:12px}.empty-content ion-icon[data-v-aea63925],.empty-state ion-icon[data-v-aea63925]{font-size:48px;margin-bottom:16px;color:var(--ion-color-medium)}.empty-content p[data-v-aea63925],.empty-state h3[data-v-aea63925]{color:var(--ion-color-medium);margin-bottom:16px}\n",document.head.appendChild(e);const U={key:0,class:"loading-container"},X={key:1,class:"error-container ion-padding"},Y={key:2},J={class:"header-overlay"},N={class:"materi-title"},O={class:"meta-badges"},Q={class:"content-container"},W={class:"section"},Z={class:"section-header"},aa={key:0},ea={class:"accordion-content",slot:"content"},ta={class:"author-info"},oa=["src"],ia={class:"author-name"},na={key:0,class:"publish-date"},ra={key:0,class:"video-section"},da={class:"video-container"},la=["src"],ca=["innerHTML"],sa={key:1,class:"empty-content"},ma={key:3,class:"empty-state ion-padding"},ua={__name:"DetailMateri",setup(a){const e=C(),t=o(null),ua=o([]),pa=o(null),va=async a=>{const e=L($(I,"materi_isi"),P("materi_id","==",a)),t=await S(e);ua.value=t.docs.map((a=>{var e;return{id:a.id,...a.data(),created_at:(null===(e=a.data().created_at)||void 0===e?void 0:e.toDate())||new Date}}))},ga=a=>{if(!a)return"";try{const e=new URL(a);return e.hostname.includes("youtube.com")&&e.searchParams.get("v")?`https://www.youtube.com/embed/${e.searchParams.get("v")}?rel=0&modestbranding=1`:e.hostname.includes("youtu.be")?`https://www.youtube.com/embed/${e.pathname.slice(1)}?rel=0&modestbranding=1`:a}catch{return a}},xa=async()=>{try{if(pa.value=null,history.state.materi)t.value=history.state.materi,await va(t.value.id);else{const a=e.params.id,o=await(async a=>{const e=E(I,"materi",a),t=await H(e);return t.exists()?{id:t.id,...t.data()}:null})(a);o&&(t.value=o,await va(a))}}catch(a){console.error("Error loading materi:",a),pa.value=a.message||"Terjadi kesalahan saat memuat materi"}};return i((async()=>{await xa()})),(a,e)=>(l(),n(d(T),null,{default:r((()=>[c(d(M),{class:"materi-content"},{default:r((()=>[t.value||pa.value?pa.value?(l(),s("div",X,[c(d(p),{icon:d(v),color:"danger",class:"error-icon"},null,8,["icon"]),e[3]||(e[3]=u("h3",null,"Gagal memuat materi",-1)),u("p",null,g(pa.value),1),c(d(x),{onClick:xa,fill:"outline"},{default:r((()=>e[2]||(e[2]=[h("Coba Lagi")]))),_:1})])):t.value?(l(),s("div",Y,[u("div",{class:"hero-header",style:k({backgroundImage:"linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.4)), url("+t.value.image+")"})},[u("div",J,[u("h1",N,g(t.value.name),1),u("div",O,[c(d(f),{color:"light",class:"meta-badge"},{default:r((()=>[c(d(p),{icon:d(b),slot:"start"},null,8,["icon"]),h(" "+g(t.value.category),1)])),_:1}),c(d(f),{color:"warning",class:"meta-badge"},{default:r((()=>[c(d(p),{icon:d(y),slot:"start"},null,8,["icon"]),h(" "+g(t.value.rating),1)])),_:1})])])],4),u("div",Q,[u("div",W,[u("div",Z,[c(d(p),{icon:d(w),color:"primary"},null,8,["icon"]),e[4]||(e[4]=u("h2",null,"Daftar Materi",-1))]),ua.value.length>0?(l(),s("div",aa,[c(d(_),{class:"custom-accordion"},{default:r((()=>[(l(!0),s(z,null,j(ua.value,(a=>(l(),n(d(K),{key:a.id,value:a.id},{default:r((()=>{return[c(d(V),{slot:"header",class:"accordion-header"},{default:r((()=>[c(d(p),{icon:d(q),slot:"start",color:"medium"},null,8,["icon"]),c(d(A),null,{default:r((()=>[h(g(a.judul),1)])),_:2},1024),c(d(p),{icon:d(B),slot:"end",class:"accordion-icon"},null,8,["icon"])])),_:2},1024),u("div",ea,[u("div",ta,[c(d(F),{class:"author-avatar"},{default:r((()=>[u("img",{src:a.user_photo||"https://ionicframework.com/docs/img/demos/avatar.svg"},null,8,oa)])),_:2},1024),u("div",null,[u("p",ia,g(a.user_fullname),1),a.created_at?(l(),s("p",na,"Dipublikasikan "+g((t=a.created_at,t?t.toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"}):"")),1)):G("",!0)])]),a.link_video?(l(),s("div",ra,[u("div",da,[u("iframe",{src:ga(a.link_video),frameborder:"0",allowfullscreen:"",title:"Video Pembelajaran"},null,8,la)]),c(d(x),{href:a.link_video,target:"_blank",fill:"clear",size:"small",class:"watch-button"},{default:r((()=>[c(d(p),{icon:d(R),slot:"start"},null,8,["icon"]),e[5]||(e[5]=h(" Tonton di YouTube "))])),_:2},1032,["href"])])):G("",!0),u("div",{class:"materi-text",innerHTML:a.isi},null,8,ca)])];var t})),_:2},1032,["value"])))),128))])),_:1})])):(l(),s("div",sa,[c(d(p),{icon:d(D),color:"medium"},null,8,["icon"]),e[6]||(e[6]=u("p",null,"Belum ada konten materi",-1))]))])])])):(l(),s("div",ma,[c(d(p),{icon:d(D),color:"medium",class:"empty-icon"},null,8,["icon"]),e[8]||(e[8]=u("h3",null,"Materi tidak ditemukan",-1)),c(d(x),{onClick:e[0]||(e[0]=e=>a.$router.go(-1)),fill:"outline"},{default:r((()=>e[7]||(e[7]=[h("Kembali")]))),_:1})])):(l(),s("div",U,[c(d(m),{name:"crescent",color:"primary"}),e[1]||(e[1]=u("p",null,"Memuat materi...",-1))]))])),_:1})])),_:1}))}};a("default",t(ua,[["__scopeId","data-v-aea63925"]]))}}}));
