import{_ as D,r as i,o as w,a as U,w as u,u as t,g as q,b as M,d as b,e as o,z as B,A as C,t as p,I as L,f as e,R as f,j as k,k as N,F as T,T as F,U as R,V as v,v as g,l as S,m as E,p as c,W as G,X as $,Y as z}from"./index-B2xrrNZF.js";const A={class:"container"},K={class:"table-container"},j={class:"materi-table"},H=["src"],P={class:"form-container"},W={class:"form-group"},X={class:"form-group"},Y={class:"form-group"},J={class:"form-group"},O={__name:"MateriList",setup(Q){const y=i([]),r=i(!1),d=i(!1),m=i(null),s=i({name:"",category:"",rating:"",image:""}),I=()=>{s.value={name:"",category:"",rating:"",image:""},d.value=!1,m.value=null},_=async()=>{try{if(d.value&&m.value){const n=G(c,"materi",m.value);await $(n,s.value),alert("Materi berhasil diperbarui!")}else await z(M(c,"materi"),s.value),alert("Materi berhasil ditambahkan!");I(),r.value=!1,V()}catch(n){console.error("Gagal simpan materi:",n)}},x=n=>{s.value={...n},m.value=n.id,d.value=!0,r.value=!0},V=async()=>{const n=await q(M(c,"materi"));y.value=n.docs.map(a=>({id:a.id,...a.data()}))};return w(V),(n,a)=>(b(),U(t(E),null,{default:u(()=>[o(t(L),null,{default:u(()=>[o(t(B),{color:"primary"},{default:u(()=>[o(t(C),null,{default:u(()=>a[6]||(a[6]=[p("Data Materi")])),_:1})]),_:1})]),_:1}),o(t(S),{class:"ion-padding bg-gray-100"},{default:u(()=>[e("div",A,[o(t(f),{expand:"block",onClick:a[0]||(a[0]=l=>r.value=!0),class:"tambah-button"},{default:u(()=>a[7]||(a[7]=[p(" Tambah Materi ")])),_:1}),e("div",K,[e("table",j,[a[9]||(a[9]=e("thead",null,[e("tr",null,[e("th",null,"Nama"),e("th",null,"Kategori"),e("th",null,"Rating"),e("th",null,"Gambar"),e("th",null,"Aksi")])],-1)),e("tbody",null,[(b(!0),k(T,null,N(y.value,l=>(b(),k("tr",{key:l.id},[e("td",null,g(l.name),1),e("td",null,g(l.category),1),e("td",null,g(l.rating),1),e("td",null,[e("img",{src:l.image,class:"thumb"},null,8,H)]),e("td",null,[o(t(f),{size:"small",onClick:Z=>x(l)},{default:u(()=>a[8]||(a[8]=[p("Edit")])),_:2},1032,["onClick"])])]))),128))])])]),o(t(F),{"is-open":r.value,onDidDismiss:a[5]||(a[5]=l=>r.value=!1)},{default:u(()=>[e("div",P,[e("form",{onSubmit:R(_,["prevent"])},[e("div",W,[a[10]||(a[10]=e("label",null,"Nama Materi",-1)),o(t(v),{modelValue:s.value.name,"onUpdate:modelValue":a[1]||(a[1]=l=>s.value.name=l),required:"",class:"custom-input"},null,8,["modelValue"])]),e("div",X,[a[11]||(a[11]=e("label",null,"Kategori",-1)),o(t(v),{modelValue:s.value.category,"onUpdate:modelValue":a[2]||(a[2]=l=>s.value.category=l),required:"",class:"custom-input"},null,8,["modelValue"])]),e("div",Y,[a[12]||(a[12]=e("label",null,"Rating",-1)),o(t(v),{modelValue:s.value.rating,"onUpdate:modelValue":a[3]||(a[3]=l=>s.value.rating=l),type:"number",step:"0.1",min:"0",max:"5",required:"",class:"custom-input"},null,8,["modelValue"])]),e("div",J,[a[13]||(a[13]=e("label",null,"Link Gambar",-1)),o(t(v),{modelValue:s.value.image,"onUpdate:modelValue":a[4]||(a[4]=l=>s.value.image=l),required:"",class:"custom-input"},null,8,["modelValue"])]),o(t(f),{expand:"block",type:"submit",class:"submit-button"},{default:u(()=>[p(g(d.value?"Update Materi":"Simpan ke Firebase"),1)]),_:1})],32)])]),_:1},8,["is-open"])])]),_:1})]),_:1}))}},aa=D(O,[["__scopeId","data-v-489133ba"]]);export{aa as default};
