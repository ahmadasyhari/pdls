System.register(["./index-legacy-Cb3B5jNa.js"],(function(a,t){"use strict";var e,o,i,n,r,c,d,l,s,m,u,f,p,v,g,x,h,b,y,k,w,_,j,z,D,M,T,C,L,P,$,I,S,E,H,K,V,q,A,B,F,G,R;return{setters:[a=>{e=a.A,o=a.r,i=a.o,n=a.a,r=a.w,c=a.u,d=a.d,l=a.e,s=a.j,m=a.al,u=a.f,f=a.y,p=a.am,v=a.x,g=a.V,x=a.v,h=a.an,b=a.X,y=a.ao,k=a.ap,w=a.aq,_=a.ar,j=a.F,z=a.k,D=a.as,M=a.l,T=a.m,C=a.at,L=a.ag,P=a.ah,$=a.b,I=a.p,S=a.g,E=a.S,H=a.T,K=a.au,V=a.K,q=a.av,A=a.M,B=a.aw,F=a.P,G=a.$,R=a.ax}],execute:function(){var t=document.createElement("style");t.textContent=".materi-content[data-v-7c6657f8]{--background: #f8f9fa}.loading-container[data-v-7c6657f8]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;text-align:center}.loading-container ion-spinner[data-v-7c6657f8]{width:48px;height:48px;margin-bottom:16px}.loading-container p[data-v-7c6657f8]{color:var(--ion-color-medium)}.error-container[data-v-7c6657f8]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;height:100%}.error-icon[data-v-7c6657f8]{font-size:48px;margin-bottom:16px}.error-container h3[data-v-7c6657f8]{color:var(--ion-color-danger);margin-bottom:8px}.error-container p[data-v-7c6657f8]{color:var(--ion-color-medium);margin-bottom:16px}.hero-header[data-v-7c6657f8]{height:300px;background-size:cover;background-position:center;display:flex;flex-direction:column;justify-content:flex-end;position:relative}.header-overlay[data-v-7c6657f8]{padding:20px;position:relative;z-index:2}.materi-title[data-v-7c6657f8]{color:#fff;font-size:1.8rem;font-weight:700;margin:0 0 12px;text-shadow:0 2px 4px rgba(0,0,0,.3)}.meta-badges[data-v-7c6657f8]{display:flex;gap:8px;flex-wrap:wrap}.meta-badge[data-v-7c6657f8]{padding:8px 12px;font-weight:500}.meta-badge ion-icon[data-v-7c6657f8]{margin-right:4px}.content-container[data-v-7c6657f8]{background:#fff;border-radius:24px 24px 0 0;margin-top:-24px;position:relative;padding:24px 16px;box-shadow:0 -4px 16px rgba(0,0,0,.05)}.section[data-v-7c6657f8]{margin-bottom:32px}.section-header[data-v-7c6657f8]{display:flex;align-items:center;margin-bottom:20px}.section-header ion-icon[data-v-7c6657f8]{font-size:24px;margin-right:12px}.section-header h2[data-v-7c6657f8]{font-size:1.3rem;font-weight:600;margin:0;color:var(--ion-color-dark)}.custom-accordion[data-v-7c6657f8]{border-radius:12px;overflow:hidden;box-shadow:0 2px 8px rgba(0,0,0,.08)}.accordion-header[data-v-7c6657f8]{--background: #fff;--border-color: #f1f1f1;--padding-start: 16px;--padding-end: 16px;--min-height: 60px}.accordion-header ion-label[data-v-7c6657f8]{font-weight:500;color:var(--ion-color-dark)}.accordion-icon[data-v-7c6657f8]{transition:transform .3s ease}.accordion-header[aria-expanded=true] .accordion-icon[data-v-7c6657f8]{transform:rotate(180deg)}.accordion-content[data-v-7c6657f8]{background:#f9f9f9;padding:16px}.author-info[data-v-7c6657f8]{display:flex;align-items:center;margin-bottom:16px;padding-bottom:16px;border-bottom:1px solid #eee}.author-avatar[data-v-7c6657f8]{width:40px;height:40px;margin-right:12px}.author-name[data-v-7c6657f8]{font-weight:500;margin:0 0 4px;font-size:.95rem;color:var(--ion-color-dark)}.publish-date[data-v-7c6657f8]{margin:0;font-size:.8rem;color:var(--ion-color-medium)}.video-section[data-v-7c6657f8]{margin-bottom:20px}.video-container[data-v-7c6657f8]{position:relative;padding-bottom:56.25%;height:0;overflow:hidden;border-radius:8px;margin-bottom:12px;background:#000}.video-container iframe[data-v-7c6657f8]{position:absolute;top:0;left:0;width:100%;height:100%;border:none}.watch-button[data-v-7c6657f8]{--padding-start: 0;--padding-end: 0;margin:0}.materi-text[data-v-7c6657f8]{line-height:1.6;color:var(--ion-color-dark)}.materi-text[data-v-7c6657f8] p{margin-bottom:16px}.materi-text[data-v-7c6657f8] h2,.materi-text[data-v-7c6657f8] h3{color:var(--ion-color-dark);margin-top:24px;margin-bottom:16px}.materi-text[data-v-7c6657f8] a{color:var(--ion-color-primary);text-decoration:none}.materi-text[data-v-7c6657f8] ul,.materi-text[data-v-7c6657f8] ol{padding-left:24px;margin-bottom:16px}.materi-text[data-v-7c6657f8] img{max-width:100%;height:auto;border-radius:8px;margin:12px 0;display:block}.empty-content[data-v-7c6657f8],.empty-state[data-v-7c6657f8]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:40px 20px}.empty-content[data-v-7c6657f8]{background:#f9f9f9;border-radius:12px}.empty-content ion-icon[data-v-7c6657f8],.empty-state ion-icon[data-v-7c6657f8]{font-size:48px;margin-bottom:16px;color:var(--ion-color-medium)}.empty-content p[data-v-7c6657f8],.empty-state h3[data-v-7c6657f8]{color:var(--ion-color-medium);margin-bottom:16px}\n",document.head.appendChild(t);const U={key:0,class:"loading-container"},W={key:1,class:"error-container ion-padding"},X={key:2},Y={class:"header-overlay"},J={class:"materi-title"},N={class:"meta-badges"},O={class:"content-container"},Q={class:"section"},Z={class:"section-header"},aa={key:0},ta={class:"accordion-content",slot:"content"},ea={class:"author-info"},oa=["src"],ia={class:"author-name"},na={key:0,class:"publish-date"},ra={key:0,class:"video-section"},ca={class:"video-container"},da=["src"],la=["innerHTML"],sa={key:1,class:"empty-content"},ma={key:3,class:"empty-state ion-padding"},ua={__name:"DetailMateri",setup(a){const t=C(),e=o(null),ua=o([]),fa=o(null),pa=async a=>{const t=L($(I,"materi_isi"),P("materi_id","==",a)),e=await S(t);ua.value=e.docs.map((a=>{var t;return{id:a.id,...a.data(),created_at:(null===(t=a.data().created_at)||void 0===t?void 0:t.toDate())||new Date}}))},va=a=>{if(!a)return"";try{const t=new URL(a);return t.hostname.includes("youtube.com")&&t.searchParams.get("v")?`https://www.youtube.com/embed/${t.searchParams.get("v")}?rel=0&modestbranding=1`:t.hostname.includes("youtu.be")?`https://www.youtube.com/embed/${t.pathname.slice(1)}?rel=0&modestbranding=1`:a}catch{return a}},ga=async()=>{try{if(fa.value=null,history.state.materi)e.value=history.state.materi,await pa(e.value.id);else{const a=t.params.id,o=await(async a=>{const t=E(I,"materi",a),e=await H(t);return e.exists()?{id:e.id,...e.data()}:null})(a);o&&(e.value=o,await pa(a))}}catch(a){console.error("Error loading materi:",a),fa.value=a.message||"Terjadi kesalahan saat memuat materi"}};return i((async()=>{await ga()})),(a,t)=>(d(),n(c(T),null,{default:r((()=>[l(c(M),{class:"materi-content"},{default:r((()=>[e.value||fa.value?fa.value?(d(),s("div",W,[l(c(f),{icon:c(p),color:"danger",class:"error-icon"},null,8,["icon"]),t[3]||(t[3]=u("h3",null,"Gagal memuat materi",-1)),u("p",null,v(fa.value),1),l(c(g),{onClick:ga,fill:"outline"},{default:r((()=>t[2]||(t[2]=[x("Coba Lagi")]))),_:1})])):e.value?(d(),s("div",X,[u("div",{class:"hero-header",style:k({backgroundImage:"linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.4)), url("+e.value.image+")"})},[u("div",Y,[u("h1",J,v(e.value.name),1),u("div",N,[l(c(h),{color:"light",class:"meta-badge"},{default:r((()=>[l(c(f),{icon:c(b),slot:"start"},null,8,["icon"]),x(" "+v(e.value.category),1)])),_:1}),l(c(h),{color:"warning",class:"meta-badge"},{default:r((()=>[l(c(f),{icon:c(y),slot:"start"},null,8,["icon"]),x(" Waktu Pengerjaan "+v(e.value.duration)+" menit ",1)])),_:1})])])],4),u("div",O,[u("div",Q,[u("div",Z,[l(c(f),{icon:c(w),color:"primary"},null,8,["icon"]),t[4]||(t[4]=u("h2",null,"Daftar Materi",-1))]),ua.value.length>0?(d(),s("div",aa,[l(c(_),{class:"custom-accordion"},{default:r((()=>[(d(!0),s(j,null,z(ua.value,(a=>(d(),n(c(K),{key:a.id,value:a.id},{default:r((()=>{return[l(c(V),{slot:"header",class:"accordion-header"},{default:r((()=>[l(c(f),{icon:c(q),slot:"start",color:"medium"},null,8,["icon"]),l(c(A),null,{default:r((()=>[x(v(a.judul),1)])),_:2},1024),l(c(f),{icon:c(B),slot:"end",class:"accordion-icon"},null,8,["icon"])])),_:2},1024),u("div",ta,[u("div",ea,[l(c(F),{class:"author-avatar"},{default:r((()=>[u("img",{src:a.user_photo||"https://ionicframework.com/docs/img/demos/avatar.svg"},null,8,oa)])),_:2},1024),u("div",null,[u("p",ia,v(a.user_fullname),1),a.created_at?(d(),s("p",na,"Dipublikasikan "+v((e=a.created_at,e?e.toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"}):"")),1)):G("",!0)])]),a.link_video?(d(),s("div",ra,[u("div",ca,[u("iframe",{src:va(a.link_video),frameborder:"0",allowfullscreen:"",title:"Video Pembelajaran"},null,8,da)]),l(c(g),{href:a.link_video,target:"_blank",fill:"clear",size:"small",class:"watch-button"},{default:r((()=>[l(c(f),{icon:c(R),slot:"start"},null,8,["icon"]),t[5]||(t[5]=x(" Tonton di YouTube "))])),_:2},1032,["href"])])):G("",!0),u("div",{class:"materi-text",innerHTML:a.isi},null,8,la)])];var e})),_:2},1032,["value"])))),128))])),_:1})])):(d(),s("div",sa,[l(c(f),{icon:c(D),color:"medium"},null,8,["icon"]),t[6]||(t[6]=u("p",null,"Belum ada konten materi",-1))]))])])])):(d(),s("div",ma,[l(c(f),{icon:c(D),color:"medium",class:"empty-icon"},null,8,["icon"]),t[8]||(t[8]=u("h3",null,"Materi tidak ditemukan",-1)),l(c(g),{onClick:t[0]||(t[0]=t=>a.$router.go(-1)),fill:"outline"},{default:r((()=>t[7]||(t[7]=[x("Kembali")]))),_:1})])):(d(),s("div",U,[l(c(m),{name:"crescent",color:"primary"}),t[1]||(t[1]=u("p",null,"Memuat materi...",-1))]))])),_:1})])),_:1}))}};a("default",e(ua,[["__scopeId","data-v-7c6657f8"]]))}}}));
