System.register(["./index-legacy-IXVIqPPm.js"],(function(a,e){"use strict";var l,t,o,d,u,s,r,n,i,m,c,p,f,b,v,g,w,h,x,k,y,_,V,U,N,P,C,j,q,z,A,D,E,T;return{setters:[a=>{l=a.A,t=a.r,o=a.o,d=a.a,u=a.w,s=a.u,r=a.g,n=a.b,i=a.d,m=a.e,c=a.B,p=a.V,f=a.a2,b=a.C,v=a.v,g=a.I,w=a.f,h=a.W,x=a.j,k=a.k,y=a.F,_=a.a3,V=a.a4,U=a.a5,N=a.ai,P=a.x,C=a.a0,j=a.l,q=a.m,z=a.p,A=a.aj,D=a.ak,E=a.T,T=a.a8}],execute:function(){var e=document.createElement("style");e.textContent=".bg-gray-100[data-v-c6156f0d]{background-color:#f6f6f6}.table-container[data-v-c6156f0d]{margin-top:24px;overflow-x:auto}.materi-table[data-v-c6156f0d]{width:100%;border-collapse:collapse;background:#fff;border-radius:12px;overflow:hidden}.materi-table th[data-v-c6156f0d],.materi-table td[data-v-c6156f0d]{padding:12px;border-bottom:1px solid #eee;text-align:left;font-size:.95rem}.form-container[data-v-c6156f0d]{padding:20px}.form-group[data-v-c6156f0d]{margin-bottom:18px}label[data-v-c6156f0d]{display:block;font-weight:600;margin-bottom:6px;color:#333;font-size:.95rem}.custom-input[data-v-c6156f0d]{--background: #f1f1f1;--padding-start: 12px;--padding-end: 12px;--border-radius: 12px;font-size:1rem;border:1px solid #ddd;padding:8px 12px}.submit-button[data-v-c6156f0d],.tambah-button[data-v-c6156f0d]{margin-top:20px;--border-radius: 12px;font-weight:600}\n",document.head.appendChild(e);const G={class:"container"},I={class:"table-container"},K={class:"materi-table"},S={class:"form-container"},B={class:"form-group"},F={class:"form-group"},H={class:"form-group"},L={class:"form-group"},M={class:"ion-text-center"};a("default",l({__name:"UserPage",setup(a){const e=t([]),l=t(!1),R=t(""),W=t({fullName:"",email:"",password:"",confirmPassword:""}),Y=async()=>{if(R.value="",W.value.password===W.value.confirmPassword)try{const a=(await A(W.value.email,W.value.password)).user;await D(E(z,"users",a.uid),{fullName:W.value.fullName,email:W.value.email,role:"kontributor",createdAt:new Date}),alert("User berhasil ditambahkan"),W.value={fullName:"",email:"",password:"",confirmPassword:""},R.value="",l.value=!1,J()}catch(a){R.value=a.message||"Gagal menambahkan user"}else R.value="Password tidak cocok"},J=async()=>{const a=await r(n(z,"users"));e.value=a.docs.map((a=>({id:a.id,...a.data()})))};return o(J),(a,t)=>(i(),d(s(q),null,{default:u((()=>[m(s(g),null,{default:u((()=>[m(s(c),{color:"primary"},{default:u((()=>[m(s(p),{slot:"start"},{default:u((()=>[m(s(f),{"default-href":"/"})])),_:1}),m(s(b),null,{default:u((()=>t[7]||(t[7]=[v("Manajemen User")]))),_:1})])),_:1})])),_:1}),m(s(j),{class:"ion-padding bg-gray-100"},{default:u((()=>[w("div",G,[m(s(h),{expand:"block",onClick:t[0]||(t[0]=a=>l.value=!0),class:"tambah-button"},{default:u((()=>t[8]||(t[8]=[v(" Tambah User Kontributor ")]))),_:1}),w("div",I,[w("table",K,[t[10]||(t[10]=w("thead",null,[w("tr",null,[w("th",null,"Nama"),w("th",null,"Email"),w("th",null,"Role"),w("th",null,"Aksi")])],-1)),w("tbody",null,[(i(!0),x(y,null,k(e.value,(a=>(i(),x("tr",{key:a.id},[w("td",null,P(a.fullName),1),w("td",null,P(a.email),1),w("td",null,P(a.role),1),w("td",null,[m(s(h),{color:"danger",size:"small",onClick:e=>(async a=>{if(confirm("Yakin ingin menghapus user ini?"))try{await T(E(z,"users",a)),alert("User berhasil dihapus"),J()}catch(e){alert("Gagal menghapus user"),console.error(e)}})(a.id)},{default:u((()=>t[9]||(t[9]=[v(" Hapus ")]))),_:2},1032,["onClick"])])])))),128))])])]),m(s(_),{"is-open":l.value,onDidDismiss:t[6]||(t[6]=a=>l.value=!1)},{default:u((()=>[w("div",S,[w("form",{onSubmit:V(Y,["prevent"])},[w("div",B,[t[11]||(t[11]=w("label",null,"Nama Lengkap",-1)),m(s(U),{modelValue:W.value.fullName,"onUpdate:modelValue":t[1]||(t[1]=a=>W.value.fullName=a),required:"",class:"custom-input"},null,8,["modelValue"])]),w("div",F,[t[12]||(t[12]=w("label",null,"Email",-1)),m(s(U),{modelValue:W.value.email,"onUpdate:modelValue":t[2]||(t[2]=a=>W.value.email=a),type:"email",required:"",class:"custom-input"},null,8,["modelValue"])]),w("div",H,[t[13]||(t[13]=w("label",null,"Password",-1)),m(s(U),{modelValue:W.value.password,"onUpdate:modelValue":t[3]||(t[3]=a=>W.value.password=a),type:"password",required:"",class:"custom-input"},null,8,["modelValue"])]),w("div",L,[t[14]||(t[14]=w("label",null,"Konfirmasi Password",-1)),m(s(U),{modelValue:W.value.confirmPassword,"onUpdate:modelValue":t[4]||(t[4]=a=>W.value.confirmPassword=a),type:"password",required:"",class:"custom-input"},null,8,["modelValue"])]),m(s(h),{expand:"block",type:"submit",class:"submit-button"},{default:u((()=>t[15]||(t[15]=[v(" Tambah User ")]))),_:1}),m(s(h),{expand:"block",color:"danger",type:"button",class:"submit-button",onClick:t[5]||(t[5]=a=>l.value=!1)},{default:u((()=>t[16]||(t[16]=[v(" Close ")]))),_:1}),R.value?(i(),d(s(N),{key:0,color:"danger"},{default:u((()=>[w("p",M,P(R.value),1)])),_:1})):C("",!0)],32)])])),_:1},8,["is-open"])])])),_:1})])),_:1}))}},[["__scopeId","data-v-c6156f0d"]]))}}}));
