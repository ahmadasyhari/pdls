import{A as I,r as v,o as _,Q as M,R as b,S as x,p as T,T as w,a as B,w as s,u as a,d as r,e as n,B as N,C as A,v as S,U as V,f as o,V as $,y as i,W as D,I as O,j as m,x as k,X as R,Y as U,Z as L,$ as y,a0 as j,l as q,m as E,n as F,a1 as G,q as H,_ as K}from"./index-CtaIoL-S.js";const P={class:"container"},Q={key:0},W={key:1},X={class:"admin-menu"},Y={__name:"MainMenu",setup(Z){const f=F(),p=v(""),d=v("");_(()=>{const t=M();b(t,async e=>{if(e)try{const u=x(T,"users",e.uid),l=await w(u);if(l.exists()){const g=l.data();p.value=g.fullName,d.value=g.role,console.log("User ditemukan:",g)}else console.warn("Data user tidak ditemukan di Firestore")}catch(u){console.error("Gagal mengambil data user:",u.message)}else console.warn("Tidak ada user login")})});const c=t=>{f.push({name:t})},C=async()=>{try{await G(),f.push("/login")}catch(t){console.error("Logout gagal:",t.message)}};return(t,e)=>{const u=H("center");return r(),B(a(E),null,{default:s(()=>[n(a(O),null,{default:s(()=>[n(a(N),null,{default:s(()=>[n(a(A),null,{default:s(()=>e[4]||(e[4]=[S("Menu Admin")])),_:1}),n(a(V),{slot:"end"},{default:s(()=>[e[5]||(e[5]=o("p",null,"Keluar",-1)),n(a($),{onClick:C,fill:"clear",color:"medium"},{default:s(()=>[n(a(i),{slot:"icon-only",icon:a(D)},null,8,["icon"])]),_:1})]),_:1})]),_:1})]),_:1}),n(a(q),{class:"ion-padding bg-gray-100"},{default:s(()=>[n(u,null,{default:s(()=>e[6]||(e[6]=[o("img",{src:K,alt:"",style:{height:"auto",width:"300px",position:"relative","margin-top":"30px"}},null,-1)])),_:1}),o("div",P,[p.value?(r(),m("p",Q,"Selamat Datang : "+k(p.value)+" ("+k(d.value)+")",1)):(r(),m("p",W,"Memuat data pengguna...")),o("div",X,[o("div",{class:"menu-card",onClick:e[0]||(e[0]=l=>c("materilist"))},[n(a(i),{icon:a(R),class:"menu-icon"},null,8,["icon"]),e[7]||(e[7]=o("span",null,"Nama Materi",-1))]),o("div",{class:"menu-card",onClick:e[1]||(e[1]=l=>c("materipage"))},[n(a(i),{icon:a(U),class:"menu-icon"},null,8,["icon"]),e[8]||(e[8]=o("span",null,"Tambah Materi",-1))]),d.value!=="kontributor"?(r(),m("div",{key:0,class:"menu-card",onClick:e[2]||(e[2]=l=>c("userpagedaftar"))},[n(a(i),{icon:a(L),class:"menu-icon"},null,8,["icon"]),e[9]||(e[9]=o("span",null,"User Mendaftar",-1))])):y("",!0),d.value!=="kontributor"?(r(),m("div",{key:1,class:"menu-card",onClick:e[3]||(e[3]=l=>c("userpage"))},[n(a(i),{icon:a(j),class:"menu-icon"},null,8,["icon"]),e[10]||(e[10]=o("span",null,"Tambah User",-1))])):y("",!0)])])]),_:1})]),_:1})}}},J=I(Y,[["__scopeId","data-v-df56f8e3"]]);export{J as default};
